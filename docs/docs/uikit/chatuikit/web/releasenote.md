# Web 单群聊 UIKit 更新日志

## 版本 V1.4.0

### 优化

1. 消息引用特性支持点击被引用的消息跳转。之前是点击被引用的消息上方的向上箭头跳转。
2. 在会话列表中，会话中的最后一条消息若为图片消息，将显示的“图片”改成“[图片]”。
3. 删除消息和会话时增加再次确认。
4. 消息编辑特性只支持编辑自己发送的消息。在群组消息中，即使群管理员也不能编辑其他成员发送的消息。
5. 聊天页面中的消息操作菜单或会话列表中对单个会话的操作菜单，只有当点击其他区域时才关闭。

### demo

支持通过手机号添加联系人。

## 版本 V1.3.0

### 新增特性

- 新增以下消息功能的全局开关：视频消息，名片消息，消息转发，消息举报。
- 新增消息置顶功能。
- 新增黑名单组件 `Blocklist`。
- 新增用户在线状态功能。
- 新增单个会话最大缓存消息数配置，优化消息量大时的性能表现。
- `Chat` 组件新增 `renderRepliedMessage` 属性，用于自定义被引用的消息。
- `ConversationItem` 组件增加 `renderMessageContent` 属性，可以自定义会话列表中最后一条消息。
- `ContactDetail` 组件增加 `renderEmpty` 属性，可以自定义没有选择联系人时的状态。

### 优化

- 优化引用消息、thread 列、头像和语音消息样式。
- `MessageInput` 组件支持多行文本, 按钮增加悬浮效果。
- `UserItem Tooltip Modal Button` 组件支持切换大小圆角主题 `theme.componentsShape`。
- 更新部分文案。
- 优化交互，点击表情之后关闭表情键盘。
- 优化部分组件在暗色主题下的样式。
- 优化消息多选时，可以点击整条消息进行选中。
- 会话免打扰设置支持多端同步。
- 修改全局配置项 `componentsShape` 的值为 `round`（大圆角）和 `square`（小圆角）。

### 修复

- 修复 @ 消息展示问题。
- 修复 `GroupMember` 组件没有清缓存的问题。
- 修复偶现消息重复问题。
- 修复通过名片消息不能加好友的问题。
- 修复视频消息在 Safari 浏览器播放的问题。
- 修复在联系人列表搜索联系人时，搜索出来的结果头像为默认头像。
